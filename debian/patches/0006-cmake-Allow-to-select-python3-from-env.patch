From: Philippe Coval <rzr@users.sf.net>
Date: Fri, 24 Jul 2020 13:03:51 +0200
Subject: cmake: Allow to select python3 from env

This will be useful for next debian release shipping python3

Change-Id: Ie3a9e8ea9152247efa85a4e87bd121016a466795
Bug: https://github.com/jerryscript-project/iotjs/issues/1945
Bug-Debian: https://bugs.debian.org/936738
Forwarded: https://github.com/jerryscript-project/iotjs/pull/1946
Origin: https://github.com/TizenTeam/iotjs/tree/sandbox/rzr/python/review/master
IoT.js-DCO-1.0-Signed-off-by: Philippe Coval rzr@users.sf.net
---
 cmake/iotjs.cmake | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

diff --git a/cmake/iotjs.cmake b/cmake/iotjs.cmake
index 713054c..2f97274 100644
--- a/cmake/iotjs.cmake
+++ b/cmake/iotjs.cmake
@@ -372,13 +372,17 @@ else()
   set(JS2C_PREPROCESS_ARGS -E -dD)
 endif()
 
+if(NOT DEFINED PYTHON)
+  set(PYTHON "python")
+endif()
+
 string (REPLACE ";" "," IOTJS_JS_MODULES_STR "${IOTJS_JS_MODULES}")
 add_custom_command(
   OUTPUT ${IOTJS_SOURCE_DIR}/iotjs_js.c ${IOTJS_SOURCE_DIR}/iotjs_js.h
   COMMAND ${CMAKE_C_COMPILER} ${JS2C_PREPROCESS_ARGS} ${IOTJS_MODULE_DEFINES}
             ${IOTJS_SOURCE_DIR}/iotjs_magic_strings.h
           > ${IOTJS_SOURCE_DIR}/iotjs_magic_strings.in
-  COMMAND python ${ROOT_DIR}/tools/js2c.py
+  COMMAND ${PYTHON} ${ROOT_DIR}/tools/js2c.py
   ARGS --buildtype=${JS2C_RUN_MODE}
        --modules "${IOTJS_JS_MODULES_STR}"
        ${JS2C_SNAPSHOT_ARG}
